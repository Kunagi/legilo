<!DOCTYPE html>
<html>
  <head>

    <meta
      name="viewport"
      content="minimum-scale=1, initial-scale=1, width=device-width" />

    <link
      rel="manifest"
      href="/manifest.json">

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900&display=swap" />

    <link
      rel="shortcut icon" type="image/x-icon"
      href="/favicon.ico">

    <link
      rel="icon" type="image/png" sizes="32x32"
      href="/img/Legilo-AppIcon-192.png" >

    <link
      rel="icon" type="image/png" sizes="96x96"
      href="/img/Legilo-AppIcon-192.png" >

    <link
      rel="apple-touch-icon" sizes="180x180"
      href="/img/Legilo-AppIcon-192.png">

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons" >

    <title>Legilo</title>
  </head>

  <body>

    <div id="app"></div>

    <!-- Firebase -->
    <script src="/__/firebase/8.0.1/firebase-app.js"></script>
    <script src="/__/firebase/8.0.1/firebase-auth.js"></script>
    <script src="/__/firebase/8.0.1/firebase-firestore.js"></script>
    <script src="/__/firebase/init.js"></script>

    <!-- SPA -->
    <script src="/js/main.js"></script>

    <!-- Authentication -->
    <script>
     window.legiloSignIn = function (onSuccess, onError) {
       var provider = new firebase.auth.OAuthProvider('microsoft.com');
       provider.setCustomParameters({
         prompt: 'login', // 'consent'
       });
       window.firebase.auth().signInWithPopup(provider)
               .then(function(result) {
                 console.log('SignIn completed', result);
                 onSuccess(result);
               })
               .catch(function(error) {
                 console.log('SignIn failed', error);
                 onError(result);
               });
     };
    </script>

    <!-- ServiceWorker -->
    <script>
     if (!(location.hostname === "localhost" || location.hostname === "127.0.0.1")) {
       window.addEventListener("load", () => {
         if ("serviceWorker" in navigator) {
           navigator.serviceWorker.register("service-worker.js");
         }
       });
     }
    </script>


  </body>
</html>
